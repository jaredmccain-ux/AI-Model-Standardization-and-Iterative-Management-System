# VisioFirm 标注工具集成说明

## 概述

本项目已集成 VisioFirm 标注工具，用于增强图像标注功能。VisioFirm 是一款开源的、AI 驱动的图像标注工具，专为计算机视觉任务设计，支持对象检测、方向框和分割标注。

## 功能特点

集成后的 VisioFirm 标注工具提供以下功能：

1. **多种标注类型支持**：
   - 边界框标注（BBox）
   - 多边形分割标注
   - 方向框标注（OBB）

2. **AI 自动标注**：
   - 利用先进的 AI 模型（如 YOLO、SAM2、Grounding DINO）进行半自动化标注
   - 大幅减少手动标注工作量（最高可达 80%）

3. **交互式标注编辑**：
   - 可视化界面进行精准标注调整
   - 支持自定义类别管理

4. **标注结果导出**：
   - 支持将标注结果导出为 JSON 格式
   - 方便后续模型训练使用

## 使用指南

### 访问标注工具

1. 登录系统后，点击左侧菜单栏的 **图像标注** 选项
2. 上传需要标注的图片
3. 在右侧图片列表中选择一张图片进行标注

### 标注流程

1. **选择标注类型**：
   - 从顶部工具栏的下拉菜单中选择所需的标注类型（边界框、多边形分割或方向框）

2. **类别管理**：
   - 在右侧控制面板中可以添加或删除标注类别
   - 默认类别包括：person、car、dog、cat
   - 点击 "添加类别" 按钮可以添加自定义类别

3. **AI 自动标注**：
   - 点击 "AI自动标注" 按钮启动 AI 标注过程
   - 系统会调用后端的 VisioFirm 集成 API 进行自动标注
   - 标注完成后，结果会显示在图像上

4. **手动调整**：
   - 可以通过拖拽标注框或点来调整标注位置
   - 可以通过清除按钮重新开始标注

5. **导出结果**：
   - 标注完成后，点击 "导出标注结果" 按钮
   - 系统会生成一个 JSON 格式的标注文件供下载

## 技术实现说明

### 前端组件结构

- `VisioFirmAnnotator.vue`：VisioFirm 标注工具的核心组件，负责标注界面和交互逻辑
- `ImageAnnotation.vue`：主页面组件，负责图片上传、管理和集成 VisioFirm 组件

### API 调用

标注工具通过以下 API 与后端通信：

- `POST ${API_BASE_URL}/api/visiofirm/auto_annotate`：用于 AI 自动标注
  - 参数：
    - `image`：待标注的图片文件
    - `tool`：选择的标注工具类型（bbox/polygon/obb）
    - `classes`：JSON 格式的类别列表
  - 返回：
    - `annotations`：标注结果数组

### 注意事项

1. AI 自动标注的效果取决于图片质量和选择的标注类型
2. 对于复杂场景，可能需要进行手动调整以获得准确的标注结果
3. 标注结果会以图片名称为基础命名导出文件

## 后续优化方向

1. 集成更多 VisioFirm 的高级功能，如批量标注、项目管理等
2. 增加更多导出格式支持（如 YOLO、COCO 等）
3. 优化前端交互体验，提供更流畅的标注过程
4. 添加标注历史记录和撤销/重做功能
5. 支持快捷键操作，提高标注效率

---

**提示**：在实际生产环境中，需要确保后端已正确集成 VisioFirm 服务，以支持 AI 自动标注功能。

最后更新时间：2023-11-06